/*!CK:2317726575!*//*1379684617,182122329*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ZyqGa"]); }

__d("SpotlightViewerLoggingEvents",[],function(a,b,c,d,e,f){e.exports={DATA_FETCH_BEGIN:"data_fetch_begin",CLOSE_BEGIN:"close_begin",PHOTO_CHANGE_BEGIN:"photo_change_begin",DATA_FETCH_COMPLETE:"data_fetch_complete",OPEN_BEGIN:"open_begin",ABORT:"abort",CLOSE_COMPLETE:"close_complete",OPEN_COMPLETE:"open_complete",ERROR:"error",LOADING:"loading",PHOTO_CHANGE_COMPLETE:"photo_change_complete",PHOTO_FETCH:"photo_fetch",PAGE_BEGIN:"page_begin",PAGE_COMPLETE:"page_complete",LOADED:"loaded"};});
__d("EgoAdsObjectSet",["DOM","csx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('csx');function i(){this._allEgoUnits=[];this._egoUnits=[];}i.prototype.init=function(k){this._allEgoUnits=k;this._egoUnits=[];this._allEgoUnits.forEach(function(l){var m=j(l);if(!m||!m.holdout)this._egoUnits.push(l);},this);};i.prototype.getCount=function(){return this._egoUnits.length;};i.prototype.forEach=function(k,l){this._egoUnits.forEach(k,l);};i.prototype.getUnit=function(k){return this._egoUnits[k];};i.prototype.getHoldoutAdIDsForSpace=function(k,l){if(!k||!l)return [];var m=[];for(var n=0;k>0&&n<this._allEgoUnits.length;n++){var o=this._allEgoUnits[n],p=l(o),q=j(o);if(k>=p&&q&&q.holdout)m.push(q.adid);k-=p;}return m;};i.prototype.getHoldoutAdIDsForNumAds=function(k){k=Math.min(k,this._allEgoUnits.length);var l=[];for(var m=0;m<k;m++){var n=this._allEgoUnits[m],o=j(n);if(o&&o.holdout)l.push(o.adid);}return l;};function j(k){var l=g.scry(k,"div._4u8")[0],m=l&&l.getAttribute('data-ad');return m&&JSON.parse(m)||undefined;}e.exports=i;});
__d("ChatConfig",["ChatConfigInitialData","copyProperties"],function(a,b,c,d,e,f){var g=b('ChatConfigInitialData'),h=b('copyProperties'),i={},j={get:function(k,l){return k in i?i[k]:l;},set:function(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}h(i,k);},getDebugInfo:function(){return i;}};j.set(g);e.exports=j;});
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("legacy:css",["CSS"],function(a,b,c,d){a.CSS=b('CSS');},3);
__d("legacy:dom",["DOM"],function(a,b,c,d){a.DOM=b('DOM');},3);
__d("FBDesktopDetect",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h='facebook.desktopplugin',i={mimeType:'application/x-facebook-desktop-1',isPluginInstalled:function(){if(g.osx())return false;var j=null;if(a.ActiveXObject){try{j=new a.ActiveXObject(h);if(j)return true;}catch(k){}}else if(a.navigator&&a.navigator.plugins){a.navigator.plugins.refresh(false);for(var l=0,m=a.navigator.plugins.length;l<m;l++){j=a.navigator.plugins[l];if(j.length&&j[0].type===this.mimeType)return true;}}return false;}};e.exports=i;});
__d("BanzaiODS",["Banzai","invariant"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('invariant');function i(){var k={},l={};function m(n,o,p,q){if(p===undefined)p=1;if(q===undefined)q=1;if(n in l)if(l[n]<=0){return;}else p/=l[n];var r=k[n]||(k[n]={}),s=r[o]||(r[o]=[0]);p=Number(p);q=Number(q);if(!isFinite(p)||!isFinite(q))return;s[0]+=p;if(arguments.length>=4){if(!s[1])s[1]=0;s[1]+=q;}}return {setEntitySample:function(n,o){l[n]=Math.random()<o?o:0;},bumpEntityKey:function(n,o,p){m(n,o,p);},bumpFraction:function(n,o,p,q){m(n,o,p,q);},flush:function(n){for(var o in k)g.post('ods:'+o,k[o],n);k={};}};}var j=i();j.create=i;g.subscribe(g.SEND,j.flush.bind(j,null));e.exports=j;});
__d("ScubaSample",["Banzai","copyProperties"],function(a,b,c,d,e,f){var g="scuba_sample",h=b("Banzai"),i=b("copyProperties");function j(m,n,o){this.fields={};this.flush=function(){if(!m)return;var p={};i(p,this.fields);p._ds=m;if(n)p._lid=n;p._options=o;h.post(g,p);this.flush=function(){};this.flushed=true;};this.lid=n;return this;}function k(m,n,o){if(!this.fields[m])this.fields[m]={};this.fields[m][n]=o;return this;}function l(m){return function(n,o){if(this.flushed)return this;return k.call(this,m,n,o);};}i(j.prototype,{addNormal:l('normal'),addInteger:l('int'),addDenorm:l('denorm')});e.exports=j;});
__d("classWithMixins",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i,j){var k=function(){i.apply(this,arguments);};k.prototype=g(Object.create(i.prototype),j.prototype);return k;}e.exports=h;});
__d("coalesce",[],function(a,b,c,d,e,f){function g(){for(var h=0;h<arguments.length;++h)if(arguments[h]!=null)return arguments[h];return null;}e.exports=g;});
__d("extendArray",[],function(a,b,c,d,e,f){function g(h,i){Array.prototype.push.apply(h,i);return h;}e.exports=g;});
__d("nativeRequestAnimationFrame",[],function(a,b,c,d,e,f){var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame;e.exports=g;});
__d("requestAnimationFrame",["emptyFunction","nativeRequestAnimationFrame"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h=b('nativeRequestAnimationFrame'),i=0,j=h||function(k){var l=Date.now(),m=Math.max(0,16-(l-i));i=l+m;return a.setTimeout(k,m);};j(g);e.exports=j;});
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("FlipDirectionOnKeypress",["Event","DOM","Input","Style"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Input'),j=b('Style');function k(event){var l=event.getTarget(),m=h.isNodeOfType(l,'input')&&(l.type=='text'),n=h.isNodeOfType(l,'textarea');if(!(m||n)||l.getAttribute('data-prevent-auto-flip'))return;var o=i.getValue(l),p=(l.style&&l.style.direction);if(!p){var q=0,r=true;for(var s=0;s<o.length;s++){var t=o.charCodeAt(s);if(t>=48){if(r){r=false;q++;}if(t>=1470&&t<=1920){j.set(l,'direction','rtl');return;}if(q==5){j.set(l,'direction','ltr');return;}}else r=true;}}else if(o.length===0)j.set(l,'direction','');}g.listen(document.documentElement,{keyup:k,input:k});});
__d("PlaceholderOnsubmitFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('placeholder')&&h.isEmpty(j[k]))h.setValue(j[k],'');});});
__d("LitestandMessages",[],function(a,b,c,d,e,f){var g={FILTER_SWITCH_BEGIN:'LitestandMessages/FilterSwitchBegin',NEWSFEED_LOAD:'LitestandMessages/NewsFeedLoad',LEAVE_HOME:'LitestandMessages/LeaveHome',UPDATE_HOME_COUNT:'LitestandMessages/UpdateHomeCount',STORIES_INSERTED:'LitestandMessages/StoriesInserted',STORIES_REMOVED:'LitestandMessages/StoriesRemoved',NEWER_STORIES_INSERTED:'LitestandMessages/NewerStoriesInserted',EXPAND_FILTER_SWITCHER:'LitestandMessages/ExpandFilterSwitcher',RESTORE_FILTER_SWITCHER:'LitestandMessages/RestoreFilterSwitcher',NEW_STORY_BAR_CLICK:'LitestandMessages/NewStoryBarClick',COLLAPSE_FILTER_SWITCHER:'LitestandMessages/CollapseFilterSwitcher',TOUR_BEGIN:'LitestandMessages/TourBegin',TOUR_END:'LitestandMessages/TourEnd',TOUR_SIDEBAR_HIGHLIGHT:'LitestandMessages/TourSidebarHighlight',TOUR_SIDEBAR_UNHIGHLIGHT:'LitestandMessages/TourSidebarUnhighlight',RHC_RELOADED:'LitestandMessages/RHCReloaded',UNLOCK_FILTER_SWITCHER:'LitestandMessage/UnlockFilterSwitcher'};e.exports=g;});
__d("EagleEye",["Arbiter","Env","OnloadEvent","WebStorage","isInIframe"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Env'),i=b('OnloadEvent'),j=b('WebStorage'),k=b('isInIframe'),l=h.eagleEyeConfig||{},m='_e_',n=(window.name||'').toString();if(n.length==7&&n.substr(0,3)==m){n=n.substr(3);}else{n=l.seed;if(!k())window.name=m+n;}var o=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'',p=m+n+'_',q=new Date(Date.now()+604800000).toGMTString(),r=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1'),s='; expires='+q+';path=/; domain='+r+o,t=0,u,v=l.sessionStorage&&j.getSessionStorage(),w=document.cookie.length,x=false,y=Date.now();function z(da){return p+(t++)+'='+encodeURIComponent(da)+s;}function aa(){var da=[],ea=false,fa=0,ga=0;this.isEmpty=function(){return !da.length;};this.enqueue=function(ha,ia){if(ia){da.unshift(ha);}else da.push(ha);};this.dequeue=function(){da.shift();};this.peek=function(){return da[0];};this.clear=function(ha){w=Math.min(w,document.cookie.length);if(!x&&(new Date()-y>60000))x=true;var ia=!ha&&(document.cookie.search(m)>=0),ja=!!h.cookie_header_limit,ka=h.cookie_count_limit||19,la=h.cookie_header_limit||3950,ma=ka-5,na=la-1000;while(!this.isEmpty()){var oa=z(this.peek());if(ja&&(oa.length>la||(x&&oa.length+w>la))){this.dequeue();continue;}if((ia||ja)&&((document.cookie.length+oa.length>la)||(document.cookie.split(';').length>ka)))break;document.cookie=oa;ia=true;this.dequeue();}var pa=Date.now();if(ha||!ea&&ia&&((ga>0)&&(Math.min(10*Math.pow(2,ga-1),60000)+fa<pa))&&g.query(i.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>na)||(document.cookie.split(';').length>ma))){var qa=new Image(),ra=this,sa=h.tracking_domain||'';ea=true;qa.onload=function va(){ea=false;ga=0;ra.clear();};qa.onerror=qa.onabort=function va(){ea=false;fa=Date.now();ga++;};var ta=h.fb_isb?'&fb_isb='+h.fb_isb:'',ua='&__user='+h.user;qa.src=sa+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+ta+ua+'&'+(!ha?'':'s=')+pa;}};}u=new aa();if(v){var ba=function(){var da=0,ea=da;function fa(){var ia=sessionStorage.getItem('_e_ids');if(ia){var ja=(ia+'').split(';');if(ja.length==2){da=parseInt(ja[0],10);ea=parseInt(ja[1],10);}}}function ga(){var ia=da+';'+ea;sessionStorage.setItem('_e_ids',ia);}function ha(ia){return '_e_'+((ia!==undefined)?ia:da++);}this.isEmpty=function(){return ea===da;};this.enqueue=function(ia,ja){var ka=ja?ha(--ea):ha();sessionStorage.setItem(ka,ia);ga();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(ha(ea));ea++;ga();};this.peek=function(){var ia=sessionStorage.getItem(ha(ea));return ia?(ia+''):ia;};this.clear=u.clear;fa();};u=new ba();}var ca={log:function(da,ea,fa){if(h.no_cookies)return;var ga=[n,Date.now(),da].concat(ea);ga.push(ga.length);function ha(){var ia=JSON.stringify(ga);try{u.enqueue(ia,!!fa);u.clear(!!fa);}catch(ja){if(v&&(ja.code===1000)){u=new aa();v=false;ha();}}}ha();},getSessionID:function(){return n;}};e.exports=ca;a.EagleEye=ca;},3);
__d("AsyncRequestNectarLogging",["AsyncRequest","Nectar","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Nectar'),i=b('copyProperties');i(g.prototype,{setNectarModuleData:function(j){if(this.method=='POST')h.addModuleData(this.data,j);},setNectarImpressionId:function(){if(this.method=='POST')h.addImpressionID(this.data);}});});
__d("DialogHideOnSuccess",["CSS","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties'),i=b('cx');function j(k){this._layer=k;}j.prototype.enable=function(){this._subscription=this._layer.subscribe('success',this._handle.bind(this));};j.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){if(g.hasClass(event.getTarget(),"_s"))this._layer.hide();};h(j.prototype,{_subscription:null});e.exports=j;});
__d("Ease",[],function(a,b,c,d,e,f){var g={makePowerOut:function(h){return function(i){var j=1-Math.pow(1-i,h);return (j*10000|0)/10000;};},makePowerIn:function(h){return function(i){var j=Math.pow(i,h);return (j*10000|0)/10000;};},makePowerInOut:function(h){return function(i){var j=((i*=2)<1)?Math.pow(i,h)*.5:1-Math.abs(Math.pow(2-i,h))*.5;return (j*10000|0)/10000;};},sineOut:function(h){return Math.sin(h*Math.PI*.5);},sineIn:function(h){return 1-Math.cos(h*Math.PI*.5);},sineInOut:function(h){return -.5*(Math.cos(Math.PI*h)-1);},circOut:function(h){return Math.sqrt(1-(--h)*h);},circIn:function(h){return -(Math.sqrt(1-h*h)-1);},circInOut:function(h){return ((h*=2)<1)?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1);},bounceOut:function(h){if(h<1/2.75){return (7.5625*h*h);}else if(h<2/2.75){return (7.5625*(h-=1.5/2.75)*h+.75);}else if(h<2.5/2.75){return (7.5625*(h-=2.25/2.75)*h+.9375);}else return (7.5625*(h-=2.625/2.75)*h+.984375);},bounceIn:function(h){return 1-g.bounceOut(1-h);},bounceInOut:function(h){return (h<.5)?g.bounceIn(h*2)*.5:g.bounceOut(h*2-1)*.5+.5;},_makeBouncy:function(h){h=h||1;return function(i){i=((1-Math.cos(i*Math.PI*h))*(1-i))+i;return i<=1?i:2-i;};},makeBounceOut:function(h){return this._makeBouncy(h);},makeBounceIn:function(h){var i=this._makeBouncy(h);return function(j){return 1-i(1-j);};},makeElasticOut:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return h*Math.pow(2,-10*k)*Math.sin((k-l)*j/i)+1;};},makeElasticIn:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return -(h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i));};},makeElasticInOut:function(h,i){h<1&&(h=1);i*=1.5;var j=Math.PI*2;return function(k){var l=i/j*Math.asin(1/h);return ((k*=2)<1)?-.5*h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i):1+.5*h*Math.pow(2,-10*(k-=1))*Math.sin((k-l)*j/i);};},makeBackOut:function(h){return function(i){return (--i*i*((h+1)*i+h)+1);};},makeBackIn:function(h){return function(i){return i*i*((h+1)*i-h);};},makeBackInOut:function(h){h*=1.525;return function(i){return ((i*=2)<1)?.5*(i*i*((h+1)*i-h)):.5*((i-=2)*i*((h+1)*i+h)+2);};},easeOutExpo:function(h){return -Math.pow(2,-10*h)+1;}};g.elasticOut=g.makeElasticOut(1,.3);g.elasticIn=g.makeElasticIn(1,.3);g.elasticInOut=g.makeElasticInOut(1,.3);g.backOut=g.makeBackOut(1.7);g.backIn=g.makeBackIn(1.7);g.backInOut=g.makeBackInOut(1.7);e.exports=g;});
__d("queryThenMutateDOM",["function-extensions","Run","createArrayFrom","emptyFunction","requestAnimationFrame"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Run'),h=b('createArrayFrom'),i=b('emptyFunction'),j=b('requestAnimationFrame'),k,l,m={},n=[],o=[];function p(s,t,u){if(!s&&!t)return;if(u&&m.hasOwnProperty(u)){return;}else if(u)m[u]=1;n.push(t||i);o.push(s||i);r();if(!k){k=true;g.onLeave(function(){k=false;l=false;m={};n.length=0;o.length=0;});}}p.prepare=function(s,t,u){return function(){var v=h(arguments);v.unshift(this);var w=Function.prototype.bind.apply(s,v),x=t.bind(this);p(w,x,u);};};function q(){m={};var s=o.length,t=n.length,u=[],v;while(s--){v=o.shift();u.push(v());}while(t--){v=n.shift();v(u.shift());}l=false;r();}function r(){if(!l&&(o.length||n.length)){l=true;j(q);}}e.exports=p;});
__d("OnVisible",["Arbiter","DOM","Event","Parent","Run","Vector","ViewportBounds","coalesce","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM'),i=b('Event'),j=b('Parent'),k=b('Run'),l=b('Vector'),m=b('ViewportBounds'),n=b('coalesce'),o=b('copyProperties'),p=b('queryThenMutateDOM'),q=[],r,s=0,t=[],u,v,w,x,y;function z(){q.forEach(function(fa){fa.remove();});if(v){v.remove();u.remove();r.unsubscribe();v=u=r=null;}s=0;q.length=0;}function aa(){if(!q.length){z();return;}t.length=0;w=l.getScrollPosition().y;x=l.getViewportDimensions().y;y=m.getTop();for(var fa=0;fa<q.length;++fa){var ga=q[fa];if(isNaN(ga.elementHeight))t.push(fa);ga.elementHeight=l.getElementDimensions(ga.element).y;ga.elementPos=l.getElementPosition(ga.element);ga.hidden=j.byClass(ga.element,'hidden_elem');if(ga.scrollArea){ga.scrollAreaHeight=l.getElementDimensions(ga.scrollArea).y;ga.scrollAreaY=l.getElementPosition(ga.scrollArea).y;}}s=fa;}function ba(){for(var fa=Math.min(q.length,s)-1;fa>=0;--fa){var ga=q[fa];if(!ga.elementPos||ga.removed||ga.hidden){q.splice(fa,1);continue;}var ha=w+x+ga.buffer,ia=false;if(ha>ga.elementPos.y){var ja=!ga.strict||(w+y-ga.buffer<(ga.elementPos.y+ga.elementHeight));ia=ja;if(ia&&ga.scrollArea){var ka=ga.scrollAreaY+ga.scrollAreaHeight+ga.buffer;ia=(ga.elementPos.y>ga.scrollAreaY-ga.buffer)&&(ga.elementPos.y<ka);}}if(ga.inverse?!ia:ia){ga.remove();ga.handler(t.indexOf(fa)!==-1);}}}function ca(){da();if(q.length)return;v=i.listen(window,'scroll',da);u=i.listen(window,'resize',da);r=g.subscribe('dom-scroll',da);}function da(){p(aa,ba,'OnVisible/positionCheck');}function ea(fa,ga,ha,ia,ja,ka){this.element=fa;this.handler=ga;this.strict=ha;this.buffer=n(ia,300);this.inverse=n(ja,false);this.scrollArea=ka||null;if(this.scrollArea)this.scrollAreaListener=i.listen(h.find(ka,'.uiScrollableAreaWrap'),'scroll',this.checkBuffer);if(q.length===0)k.onLeave(z);ca();q.push(this);}ea.prototype.remove=function(){this.removed=true;if(this.scrollAreaListener)this.scrollAreaListener.remove();};ea.prototype.reset=function(){this.elementHeight=null;this.removed=false;q.indexOf(this)===-1&&q.push(this);ca();};ea.prototype.setBuffer=function(fa){this.buffer=fa;da();};ea.prototype.checkBuffer=function(){da();};ea.prototype.getElement=function(){return this.element;};o(ea,{checkBuffer:da});e.exports=ea;});
__d("PixelRatio",["Arbiter","Cookie","Run"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Cookie'),i=b('Run'),j='dpr',k,l;function m(){return window.devicePixelRatio||1;}function n(){h.set(j,m());}function o(){h.clear(j);}function p(){var r=m();if(r!==k){n();}else o();}var q={startDetecting:function(r){k=r||1;o();if(l)return;l=[g.subscribe('pre_page_transition',p)];i.onBeforeUnload(p);}};e.exports=q;});
__d("PostLoadJS",["Bootloader","Run","emptyFunction"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Run'),i=b('emptyFunction');function j(l,m){h.onAfterLoad(function(){g.loadModules.call(g,[l],m);});}var k={loadAndRequire:function(l){j(l,i);},loadAndCall:function(l,m,n){j(l,function(o){o[m].apply(o,n);});}};e.exports=k;});
__d("ControlledReferer",["Event","URI","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('URI'),i=b('UserAgent'),j={useFacebookReferer:function(k,l,m){var n=false;function o(){if(n)return;var q=k.contentWindow.location.pathname;if(q!=='/intern/common/referer_frame.php'&&q!=='/common/referer_frame.php')return;n=true;k.contentWindow.document.body.style.margin=0;l();}var p;if(document.domain!=='facebook.com'){p='/intern/common/referer_frame.php';}else if(i.opera()){p='/common/referer_frame.php';}else if(h().isSecure()){p='https://s-static.ak.facebook.com/common/referer_frame.php';}else p='http://static.ak.facebook.com/common/referer_frame.php';if(m)p+='?fb_source='+m;g.listen(k,'load',o);k.src=p;},useFacebookRefererHtml:function(k,l,m){j.useFacebookReferer(k,function(){k.contentWindow.document.body.innerHTML=l;},m);}};e.exports=j;});
__d("SoundRPC",["Event","SoundSynchronizer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('SoundSynchronizer');function i(k,l,m){h.play(k,l,m);}var j={playLocal:i,playRemote:function(k,l,m,n){var o={paths:l,sync:m,loop:n};k.postMessage(JSON.stringify(o),'*');},supportsRPC:function(){return !!window.postMessage;},_listen:function(){g.listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l=JSON.parse(k.data);i(l.paths,l.sync,l.loop);});}};e.exports=j;});
__d("SubscriptionsHandler",["JSLogger"],function(a,b,c,d,e,f){var g=b('JSLogger'),h=g.create('subscriptions_handler');function i(j){this._name=j||'unnamed';this._subscriptions=[];}i.prototype.addSubscriptions=function(){if(this._subscriptions){Array.prototype.push.apply(this._subscriptions,arguments);}else{h.warn(this._name+'.subscribe_while_released');for(var j=0,k=arguments.length;j<k;j++)this._unsubscribe(arguments[j]);}};i.prototype.engage=function(){this._subscriptions=this._subscriptions||[];};i.prototype.release=function(){if(this._subscriptions)this._subscriptions.forEach(this._unsubscribe.bind(this));this._subscriptions=null;};i.prototype._unsubscribe=function(j){if(j.remove){j.remove();}else if(j.reset){j.reset();}else if(j.unsubscribe){j.unsubscribe();}else h.error(this._name+'.invalid',j);};e.exports=i;});
__d("tidyEvent",["Run"],function(a,b,c,d,e,f){var g=b('Run'),h=[];function i(){while(h.length){var k=h.shift();if(k.remove){k._handler&&k.remove();}else k&&k.unsubscribe();}}function j(k){if(!h.length)g.onLeave(i);if(Array.isArray(k)){h=h.concat(k);}else h.push(k);return k;}e.exports=j;});
__d("curry",["bind"],function(a,b,c,d,e,f){var g=b('bind'),h=g(null,g,null);e.exports=h;});
__d("reportData",["EagleEye","userAction"],function(a,b,c,d,e,f){var g=b('EagleEye'),h=b('userAction');function i(j,k){k=k||{};var l={ft:(k.ft||{}),gt:(k.gt||{})},m='-',n=[],o='r',p=[Date.now(),h.getCurrentUECount(),m,j,m,m,o,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,l,0,0,0,0].concat(n);g.log('act',p);}e.exports=i;});
__d("PhotoLogger",["Event","ScubaSample","SpotlightViewerLoggingEvents","SubscriptionsHandler"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ScubaSample'),i=b('SpotlightViewerLoggingEvents'),j=b('SubscriptionsHandler');function k(l){this.$PhotoLogger0=l;this.$PhotoLogger1={};}k.prototype.log=function(l){if(!this.$PhotoLogger1[l]){this.$PhotoLogger2(l);this.$PhotoLogger1[l]=true;}};k.prototype.$PhotoLogger2=function(l){this.$PhotoLogger3(i.LOADING,{uri:l});var m=new j(),n=new Image();m.addSubscriptions(g.listen(n,'load',function(){this.$PhotoLogger3(i.LOADED,{uri:l});m.release();}.bind(this)),g.listen(n,'error',function(){this.$PhotoLogger3(i.ERROR,{uri:l});m.release();}.bind(this)),g.listen(n,'abort',function(){this.$PhotoLogger3(i.ABORT,{uri:l});m.release();}.bind(this)));n.src=l;};k.prototype.logEvent=function(l){this.$PhotoLogger3(l);};k.prototype.$PhotoLogger3=function(l,m){var n=new h('photos_client_loading',null,{addBrowserFields:true});n.addNormal('event',l);n.addNormal('viewer',this.$PhotoLogger0);for(var o in m)n.addNormal(o,m[o]);n.flush();};e.exports=k;});
__d("UIIntentionalStreamMessage",[],function(a,b,c,d,e,f){var g={SET_AUTO_INSERT:'UIIntentionalStream/setAutoInsert',UPDATE_STREAM:'UIIntentionalStreamRefresh/updateStream',REFRESH_STREAM:'UIIntentionalStreamRefresh/refreshStream',UPDATE_AUTOREFRESH_CONFIG:'UIIntentionalStream/updateAutoRefreshConfig',UPDATE_HTML_CONTENT:'UIIntentionalStream/updateHtmlContent',UPDATE_LAST_REFRESH_TIME:'UIIntentionalStream/updateLastRefreshTime',INSERT_STORIES:'UIIntentionalStream/updateLastRefreshTime',UNLOAD:'UIIntentionalStream/unload'};e.exports=g;});
__d("TinyViewport",["Arbiter","ArbiterMixin","CSS","DOM","Event","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('copyProperties'),m=b('queryThenMutateDOM'),n=document.documentElement,o,p,q=false,r={isTiny:function(){return o;}};l(r,h);var s=m.bind(null,function(){p=p||j.getDocumentScrollElement();o=n.clientHeight<400||n.clientWidth<p.scrollWidth;},function(){if(o!==q){i.conditionClass(n,'tinyViewport',o);i.conditionClass(n,'canHaveFixedElements',!o);r.inform('change',o);q=o;}},'TinyViewport');s();g.subscribe('quickling/response',s);k.listen(window,'resize',s);e.exports=r;});
__d("AccessibleLayer",["DOM","Event","Focus","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('Focus'),j=b('tx');function k(l){this._layer=l;}k.prototype.enable=function(){this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));};k.prototype.disable=function(){this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;};k.prototype._closeListener=function(event){var l=this._layer.getCausalElement();if(l)if(l.tabIndex==-1){l.tabIndex=0;i.setWithoutOutline(l);}else i.set(l);this._layer.hide();};k.prototype._onAfterShow=function(){var l=this._layer.getContentRoot();if(g.scry(l,'.layer_close_elem')[0])return;var m=g.create('a',{className:'accessible_elem layer_close_elem',href:'#'},["Close popup and return"]);g.appendContent(l,m);this._listener=h.listen(m,'click',this._closeListener.bind(this));};e.exports=k;});
__d("ContextualLayerHideOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};i.prototype.attach=function(){if(this._listener)return;var j=this._layer.getContextScrollParent();if(j===window)return;this._listener=g.listen(j,'scroll',this._layer.hide.bind(this._layer));};i.prototype.detach=function(){this._listener&&this._listener.remove();this._listener=null;};i.prototype._handleContextChange=function(){this.detach();if(this._layer.isShown())this.attach();};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("ContextualLayerUpdateOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};i.prototype._attachScrollListener=function(){if(this._listener)return;var j=this._layer.getContextScrollParent();this._listener=g.listen(j,'scroll',this._layer.updatePosition.bind(this._layer));};i.prototype._removeScrollListener=function(){this._listener&&this._listener.remove();this._listener=null;};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Layer'),i=b('Style'),j=b('UserAgent'),k=b('copyProperties');function l(m){this._layer=m;}l.prototype.enable=function(){if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));};l.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};l.prototype._handleStartHide=function(){var m=true,n=h.subscribe('show',function(){n.unsubscribe();m=false;});(function(){n.unsubscribe();n=null;if(m){this._animate();}else this._layer.finishHide();}).bind(this).defer();return false;};l.prototype._animate=function(){new g(this._layer.getRoot()).from('opacity',1).to('opacity',0).duration(150).ondone(this._finish.bind(this)).go();};l.prototype._finish=function(){i.set(this._layer.getRoot(),'opacity','');this._layer.finishHide();};k(l.prototype,{_subscription:null});e.exports=l;});
__d("LayerHideOnBlur",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}h.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();};h.prototype.disable=function(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;};h.prototype._detach=function(){this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;};h.prototype._attach=function(){this._onBlur=this._layer.subscribe('blur',function(){this._layer.hide();return false;}.bind(this));};g(h.prototype,{_subscriptions:null,_onBlur:null});e.exports=h;});
__d("LayerMouseHooks",["function-extensions","Arbiter","ContextualThing","Event","Layer","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('ContextualThing'),i=b('Event'),j=b('Layer'),k=b('copyProperties'),l=new g();function m(n){this._layer=n;this._subscriptions=[];this._currentlyActive=false;}m.prototype.enable=function(){this._subscriptions=[l.subscribe('mouseenter',this._handleActive.bind(this)),l.subscribe('mouseleave',this._handleInactive.bind(this)),this._layer.subscribe('hide',function(){this._currentlyActive=false;}.bind(this))];};m.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false;};m.prototype._handleActive=function(n,o){if(!this._currentlyActive&&this._isNodeWithinStack(o)){this._layer.inform('mouseenter');this._currentlyActive=true;}};m.prototype._handleInactive=function(n,o){if(this._currentlyActive)if(!o||!this._isNodeWithinStack(o)){this._layer.inform('mouseleave');this._currentlyActive=false;}};m.prototype._isNodeWithinStack=function(n){return h.containsIncludingLayers(this._layer.getContentRoot(),n);};j.subscribe('show',function(n,o){var p=o.getContentRoot(),q=[i.listen(p,'mouseenter',function(){l.inform('mouseenter',p);}),i.listen(p,'mouseleave',function(s){l.inform('mouseleave',s.getRelatedTarget());})],r=o.subscribe('hide',function(){while(q.length)q.pop().remove();r.unsubscribe();q=r=null;});});e.exports=m;});
__d("ContextualDialogArrow",["CSS","DOM","JSXDOM","Locale","Style","Vector","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('JSXDOM'),j=b('Locale'),k=b('Style'),l=b('Vector'),m=b('copyProperties'),n=b('cx'),o={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},p={above:'bottom',below:'top',left:'right',right:'left'};function q(r){this._layer=r;}q.prototype.enable=function(){this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));};q.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};q.prototype._handle=function(r,s){if(r==='adjust'){this._repositionArrow(s);}else this._repositionRoot(s);};q.prototype._repositionRoot=function(r){var s=r.getAlignment();if(s=='center')return;var t=this._layer.getRoot(),u=this._layer.getContext(),v=r.isVertical(),w=this._layer.getArrowDimensions(),x=w.offset,y=w.length,z=l.getElementDimensions(u),aa=v?z.x:z.y;if(aa>=y+(x*2))return;var ba=(y/2)+x,ca=aa/2,da=parseInt(ba-ca,10);if(v){if(s=='left'){var ea=parseInt(k.get(t,'left'),10);k.set(t,'left',(ea-da)+'px');}else{var fa=parseInt(k.get(t,'right'),10);k.set(t,'right',(fa-da)+'px');}}else{var ga=parseInt(k.get(t,'top'),10);k.set(t,'top',(ga-da)+'px');}};q.prototype._repositionArrow=function(r){var s=this._layer.getContentRoot(),t=r.getPosition(),u=p[t];for(var v in o)g.conditionClass(s,o[v],u===v);if(t=='none')return;if(!this._arrow){this._arrow=i.i({className:"_53io"});h.appendContent(s,this._arrow);}k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var w=q.getOffsetPercent(r),x=q.getOffset(r,w,this._layer),y=q.getOffsetSide(r);k.set(this._arrow,y,w+'%');k.set(this._arrow,'margin-'+y,x+'px');};q.getOffsetPercent=function(r){var s=r.getAlignment(),t=r.getPosition();if(t=='above'||t=='below')if(s=='center'){return 50;}else if(s=='right')return 100;return 0;};q.getOffsetSide=function(r){var s=r.isVertical();return s?(j.isRTL()?'right':'left'):'top';};q.getOffset=function(r,s,t){var u=t.getArrowDimensions(),v=u.offset,w=u.length,x=r.getAlignment(),y=(x=='center')?0:v;y+=w*s/100;if(x!='left')y*=-1;return y;};m(q.prototype,{_subscription:null,_arrow:null});e.exports=q;});
__d("ContextualDialogDefaultTheme",["cx"],function(a,b,c,d,e,f){var g=b('cx'),h={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=h;});
__d("ContextualDialogFitInViewport",["ContextualLayerDimensions","Event","Style","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('Event'),i=b('Style'),j=b('Vector'),k=b('copyProperties'),l=b('throttle');function m(n){this._layer=n;this._listeners=[];}m.prototype.enable=function(){var n=this._layer.getArrowDimensions();this._arrowOffset=n.offset;var o=n.length;this._arrowBuffer=this._arrowOffset+o;this._subscription=this._layer.subscribe(['show','hide','reposition'],function(p,q){if(p=='reposition'){this._calculateMinimumTop(q);}else if(p=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();};m.prototype.disable=function(){if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;};m.prototype._attachScroll=function(){var n=l(this._adjustForScroll.bind(this)),o=this._layer.getContextScrollParent()||window;this._listeners=[h.listen(o,'scroll',n),h.listen(window,'resize',n)];};m.prototype._detachScroll=function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];};m.prototype._getContentHeight=function(){return j.getElementDimensions(this._layer._contentWrapper).y;};m.prototype._getContextY=function(){return j.getElementPosition(this._layer.getContext()).y;};m.prototype._calculateMinimumTop=function(n){if(n.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+n.getOffsetY());};m.prototype._adjustForScroll=function(){if(this._layer.isFixed())return;var n=this._layer._getOrientation();if(n.isVertical())return;var o=g.getViewportRect(this._layer),p=o.b-this._minimumTop;if(p<0)return;var q=this._getContentHeight(),r=q-(this._arrowBuffer+this._arrowOffset),s=Math.max(0,Math.min(r,r-(p-q)));i.set(this._layer.getContent(),'top',-s+'px');};k(m.prototype,{_subscription:null,_minimumTop:null});e.exports=m;});
__d("ContextualDialog",["AccessibleLayer","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogFitInViewport","ContextualLayer","CSS","DOM","JSXDOM","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerHideOnTransition","LayerMouseHooks","Style","copyProperties","csx","cx","invariant","removeFromArray"],function(a,b,c,d,e,f){var g=b('AccessibleLayer'),h=b('ContextualDialogArrow'),i=b('ContextualDialogDefaultTheme'),j=b('ContextualDialogFitInViewport'),k=b('ContextualLayer'),l=b('CSS'),m=b('DOM'),n=b('JSXDOM'),o=b('LayerAutoFocus'),p=b('LayerButtons'),q=b('LayerFormHooks'),r=b('LayerHideOnTransition'),s=b('LayerMouseHooks'),t=b('Style'),u=b('copyProperties'),v=b('csx'),w=b('cx'),x=b('invariant'),y=b('removeFromArray');for(var z in k)if(k.hasOwnProperty(z))ba[z]=k[z];var aa=k===null?null:k.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=k;function ba(){if(k!==null)k.apply(this,arguments);}ba.prototype._configure=function(ca,da){u(ca,ca.theme||i);var ea=ca.arrowBehavior||h;ca.addedBehaviors=ca.addedBehaviors||[];ca.addedBehaviors.push(ea);aa._configure.call(this,ca,da);this._footer=m.scry(da,"div._572u")[0];if(this._footer)l.addClass(this.getContentRoot(),"_kc");};ba.prototype._getDefaultBehaviors=function(){var ca=aa._getDefaultBehaviors.call(this);y(ca,r);return ca.concat([g,o,j,p,q,s]);};ba.prototype._buildWrapper=function(ca,da){this._innerWrapper=n.div(null,da);var ea=aa._buildWrapper.call(this,ca,this._innerWrapper);l.addClass(ea,ca.wrapperClassName);this.replaceEntireLayerContents(da);x(this.getContent()===da);if(ca.width)this.setWidth(ca.width);return ea;};ba.prototype.getContentRoot=function(){x(!!this._innerWrapper);return this._innerWrapper;};ba.prototype.setContent=function(ca){x(false);};ba.prototype.replaceEntireLayerContents=function(ca){this._content=null;m.empty(this.getContentRoot());this.setInnerContent(ca);};ba.prototype.setInnerContent=function(ca){l.addClass(ca,"_53ij");if(this.getContent()){m.replace(this.getContent(),ca);}else m.appendContent(this.getContentRoot(),ca);this._content=ca;this.isShown()&&this.updatePosition();};ba.prototype.setWidth=function(ca){this._width=Math.floor(ca);t.set(this.getContentRoot(),'width',ca+'px');return this;};ba.prototype.getFooter=function(){return this._footer;};ba.setContext=function(ca,da){ca.setContext(da);};u(ba.prototype,{_footer:null});e.exports=ba;});
__d("Hovercard",["JSXDOM","Event","function-extensions","AccessibleLayer","Arbiter","AsyncRequest","AsyncSignal","ContextualDialog","ContextualThing","DOM","LayerAutoFocus","Parent","Rect","Style","UserAgent","Vector","clickRefAction","cx","csx","emptyFunction","tx","userAction"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('Event');b('function-extensions');var i=b('AccessibleLayer'),j=b('Arbiter'),k=b('AsyncRequest'),l=b('AsyncSignal'),m=b('ContextualDialog'),n=b('ContextualThing'),o=b('DOM'),p=b('LayerAutoFocus'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('UserAgent'),u=b('Vector'),v=b('clickRefAction'),w=b('cx'),x=b('csx'),y=b('emptyFunction'),z=b('tx'),aa=b('userAction'),ba={},ca={},da=null,ea=null,fa=null,ga=150,ha=700,ia=1000,ja=250,ka=null,la=null,ma=null,na=null;function oa(event){var db=q.byTag(event.getTarget(),'a');cb.processNode(db)&&event.stop();}function pa(db){ea=db;if(!qa(db)){var eb;if(!db||!(eb=ra(db))){ca.moveToken&&ca.moveToken.remove();ca={};return false;}if(ca.node!=db){ca.moveToken&&ca.moveToken.remove();ca={node:db,endpoint:eb,pos:null};}}return true;}function qa(db){return db&&da&&ca.node==db;}function ra(db){return db.getAttribute('data-hovercard');}function sa(db){var eb=o.scry(db,"^._59hp ._57lr").length;if(eb)return;var fb=h.listen(db,'mouseout',function(){clearTimeout(ka);clearTimeout(la);fb.remove();ea=null;if(!cb.contains(db))cb.hide();});if(!ca.moveToken)ca.moveToken=h.listen(db,'mousemove',function(event){ca.pos=u.getEventPosition(event);});clearTimeout(ka);clearTimeout(la);clearTimeout(na);var gb=ga,hb=da?ja:ha;if(db.getAttribute('data-hovercard-instant'))gb=hb=50;ka=setTimeout(xa.curry(db),gb);la=setTimeout(ta.curry(db),hb);}function ta(db,eb){if(ca.node!=db)return;var fb=ba[ra(db)];if(fb){va(fb);}else if(eb){va(za());}else{var gb=da?ja:ha;ma=setTimeout(ta.curry(db,true),ia-gb);}}function ua(){cb.hide(true);clearTimeout(la);}function va(db){var eb=ca.node,fb=da,gb=fb!=eb;if(fa){var hb=fa.getContentRoot();if(!n.containsIncludingLayers(hb,eb))fa.hide();}if(!o.contains(document.body,eb)){cb.hide(true);return;}da=eb;fa=db;db.setContextWithBounds(eb,wa(eb)).show();if(gb)(function(){new l('/ajax/hovercard/shown.php').send();v('himp',da,null,'FORCE',{ft:{evt:39}});aa('hovercard',da).uai('show');}).defer();}function wa(db){var eb=ca.pos,fb=db.getClientRects();if(!eb||fb.length===0)return r.getElementBounds(db);var gb,hb=false;for(var ib=0;ib<fb.length;ib++){var jb=new r(Math.round(fb[ib].top),Math.round(fb[ib].right),Math.round(fb[ib].bottom),Math.round(fb[ib].left),'viewport').convertTo('document'),kb=jb.getPositionVector(),lb=kb.add(jb.getDimensionVector());if(!gb||(kb.x<=gb.l&&kb.y>gb.t)){if(hb)break;gb=new r(kb.y,lb.x,lb.y,kb.x,'document');}else{gb.t=Math.min(gb.t,kb.y);gb.b=Math.max(gb.b,lb.y);gb.r=lb.x;}if(jb.contains(eb))hb=true;}return gb;}function xa(db){if(db.id&&ba[db.id]!=null)return;var eb=ra(db);if(ba[eb]!=null)return;ya(eb);var fb=function(){cb.dirty(eb);ua();};new k(eb).setData({endpoint:eb}).setMethod('GET').setReadOnly(true).setErrorHandler(fb).setTransportErrorHandler(fb).send();}function ya(db){ba[db]=false;}var za=function(){var db=new m({width:275},g.div({className:"_7lk"},"Loading..."));db.disableBehavior(i).disableBehavior(p);ab(db);za=y.thatReturns(db);return db;};function ab(db){var eb=[db.subscribe('mouseenter',function(){clearTimeout(na);ea=ca.node;}),db.subscribe('mouseleave',function(){db.hide();ea=null;}),db.subscribe('destroy',function(){while(eb.length)eb.pop().unsubscribe();eb=null;})];}var bb=true,cb={hide:function(db){if(!da)return;if(db){if(fa)fa.hide();ea=null;da=null;fa=null;}else na=setTimeout(cb.hide.curry(true),ja);},setDialog:function(db,eb){eb.disableBehavior(i).disableBehavior(p);ba[db]=eb;ab(eb);if(ca.endpoint==db&&ea==ca.node){za().hide();var fb=ca.node.getAttribute('data-hovercard-position');fb&&eb.setPosition(fb);var gb=ca.node.getAttribute('data-hovercard-offset-x');gb&&eb.setOffsetX(parseInt(gb,10));var hb=ca.node.getAttribute('data-hovercard-offset-y');hb&&eb.setOffsetY(parseInt(hb,10));va(eb);}},getDialog:function(db){return ba[db];},contains:function(db){if(fa)return n.containsIncludingLayers(fa.getContentRoot(),db);return false;},dirty:function(db){var eb=ba[db];if(eb){eb.destroy();delete ba[db];}},dirtyAll:function(){for(var db in ba){var eb=ba[db];eb&&cb.dirty(db);}j.inform('Hovercard/dirty');},processNode:function(db){if(db&&pa(db)){sa(db);return true;}return false;},setDirtyAllOnPageTransition:function(db){bb=db;}};(function(){if(t.ie()<8)return;h.listen(document.documentElement,'mouseover',oa);h.listen(window,'scroll',function(){if(da&&s.isFixed(da))cb.hide(true);});j.subscribe('page_transition',function(){ua();bb&&cb.dirtyAll();},j.SUBSCRIBE_NEW);})();e.exports=cb;});
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('emptyFunction');function m(q){return k.byClass(q,'uiStickyPlaceholderInput');}function n(q){return i.scry(q,'.placeholder')[0];}function o(q){q=q||window.event;var r=q.target||q.srcElement;if(i.isNodeOfType(r,['input','textarea'])){var s=m(r);if(s)(function(){h.conditionClass(s,'uiStickyPlaceholderEmptyInput',!r.value.length);}).defer();}}var p={init:function(){p.init=l;g.listen(document.documentElement,{keydown:o,paste:o,focusout:o});},registerInput:function(q){p.init();var r=q.getAttribute('placeholder')||'';if(r.length)if(document.activeElement===q){var s=g.listen(q,'blur',function(){p.manipulateInput(q,r);s.remove();});}else p.manipulateInput(q,r);},manipulateInput:function(q,r){var s=i.create('div',{className:'placeholder','aria-hidden':'true'},r),t=i.create('div',{className:'uiStickyPlaceholderInput'},s);if(i.isNodeOfType(q,'textarea'))h.addClass(t,'uiStickyPlaceholderTextarea');g.listen(s,'click',function(){q.focus();});if(q.value===r)q.value='';h.removeClass(q,'DOMControl_placeholder');q.setAttribute('placeholder','');i.replace(q,t);i.appendContent(t,q);h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!q.value.length);},setPlaceholderText:function(q,r){var s=m(q);if(!s){j.setPlaceholder(q,r);}else{var t=n(s);t&&i.setContent(t,r);}},getPlaceholderText:function(q){var r=m(q),s=n(r);return s&&i.getText(s);},update:function(q){var r=m(q);if(r)h.conditionClass(r,'uiStickyPlaceholderEmptyInput',!q.value.length);},getVisibleText:function(q){var r=m(q);if(h.hasClass(r,'uiStickyPlaceholderEmptyInput')){var s=n(r);return s&&i.getText(s);}else return q.value;}};e.exports=p;});
__d("Spotlight",["Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerTabIsolation","ModalLayer","Vector","classWithMixins","copyProperties","csx","cx","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('DOM'),j=b('JSXDOM'),k=b('Layer'),l=b('LayerAutoFocus'),m=b('LayerTabIsolation'),n=b('ModalLayer'),o=b('Vector'),p=b('classWithMixins'),q=b('copyProperties'),r=b('csx'),s=b('cx'),t=b('mixin'),u=p(k,t(h));for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(z,aa){u.call(this,z,aa);this.stageMinSize=new o(0,0);this.stagePadding=new o(0,0);}x.prototype._buildWrapper=function(z,aa){return (j.div({className:"_n8 _3qx"},j.div({className:"_n9"},aa)));};x.prototype._getDefaultBehaviors=function(){return w._getDefaultBehaviors.call(this).concat([y,l,m,n]);};x.prototype.getContentRoot=function(){if(!this._content)this._content=i.find(this.getRoot(),"div._n3");return this._content;};x.prototype.configure=function(z){if(z.stageMinSize)this.stageMinSize=z.stageMinSize;if(z.stagePadding)this.stagePadding=z.stagePadding;};x.prototype.onContentLoaded=function(){this.inform('content-load');};x.prototype.updatePermalink=function(z){this.inform('permalinkchange',z);};q(x.prototype,{stageMinSize:null,stagePadding:null});function y(z){this._layer=z;}y.prototype.enable=function(){this._subscription=this._layer.subscribe(['show','hide'],function(z,aa){if(z==='show'){g.inform('layer_shown',{type:'Spotlight'});}else g.inform('layer_hidden',{type:'Spotlight'});});};y.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};q(y.prototype,{_subscription:null});e.exports=x;});
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","SimpleDrag","Style","UserAgent","Vector","throttle","mixin"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('ArbiterMixin'),i=b('BrowserSupport'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Parent'),o=b('Run'),p=b('SimpleDrag'),q=b('Style'),r=b('UserAgent'),s=b('Vector'),t=b('throttle'),u=12,v=b("mixin"),w=v(h);for(var x in w)if(w.hasOwnProperty(x))z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa,ba){if(!aa)return;ba=ba||{};this._elem=aa;this._wrap=l.find(aa,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(aa,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=ba;this._throttledComputeHeights=t.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=t.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=t.withBlocking(this._showGripperAndShadows,250,this);this._throttledRespondMouseMove=t(this._respondMouseMove,250,this);this.adjustGripper.bind(this).defer();this._listeners=[m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(aa,'mousemove',this._handleMouseMove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'click',this._handleClickOnTrack.bind(this)));if(ba.fade!==false){this._listeners.push(m.listen(aa,'mouseenter',this._handleMouseEnter.bind(this)),m.listen(aa,'mouseleave',this._handleMouseLeave.bind(this)),m.listen(aa,'focusin',this.showScrollbar.bind(this,false)),m.listen(aa,'focusout',this.hideScrollbar.bind(this)));}else if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'mouseleave',j.removeClass.curry(aa,'uiScrollableAreaTrackOver')));if(r.webkit()||r.chrome()){this._listeners.push(m.listen(aa,'mousedown',function(){var ca=m.listen(window,'mouseup',function(){if(aa.scrollLeft)aa.scrollLeft=0;ca.remove();});}));}else if(r.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!ba.persistent)o.onLeave(this.destroy.bind(this));if(ba.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}z.prototype.initDrag=function(){var aa=i.hasPointerEvents(),ba=new p(aa?this._elem:this._gripper);ba.subscribe('start',function(ca,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var da=s.getEventPosition(event,'viewport');if(aa){var ea=this._gripper.getBoundingClientRect();if(da.x<ea.left||da.x>ea.right||da.y<ea.top||da.y>ea.bottom)return false;}this.inform('grip_start');var fa=da.y,ga=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var ha=ba.subscribe('update',function(ja,event){var ka=s.getEventPosition(event,'viewport').y-fa;this._throttledComputeHeights();var la=this._contentHeight-this._containerHeight,ma=ga+ka,na=this._trackHeight-this._gripperHeight;ma=Math.max(Math.min(ma,na),0);var oa=ma/na*la;this._wrap.scrollTop=oa;}.bind(this)),ia=ba.subscribe('end',function(){ba.unsubscribe(ha);ba.unsubscribe(ia);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));};z.prototype.adjustGripper=function(){if(this._needsGripper()){q.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;};z.prototype._computeHeights=function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,u);};z.prototype._needsGripper=function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;};z.prototype._slideGripper=function(){var aa=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);q.set(this._gripper,'top',aa+'px');};z.prototype._showGripperAndShadows=function(){j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());};z.prototype.destroy=function(){this._listeners.forEach(function(aa){aa.remove();});this._listeners.length=0;};z.prototype._handleClickOnTrack=function(event){var aa=s.getEventPosition(event,'viewport'),ba=this._gripper.getBoundingClientRect();if(aa.x<ba.right&&aa.x>ba.left){if(aa.y<ba.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(aa.y>ba.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}};z.prototype._handleMouseMove=function(event){var aa=this._options.fade!==false;if(i.hasPointerEvents()||aa){this._mousePos=s.getEventPosition(event);this._throttledRespondMouseMove();}};z.prototype._respondMouseMove=function(){if(!this._mouseOver)return;var aa=this._options.fade!==false,ba=this._mousePos,ca=s.getElementPosition(this._track).x,da=s.getElementDimensions(this._track).x,ea=Math.abs(ca+da/2-ba.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&ea<=10);if(aa)if(ea<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();};z.prototype._handleScroll=function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');};z.prototype._handleMouseLeave=function(){this._mouseOver=false;this.hideScrollbar();};z.prototype._handleMouseEnter=function(){this._mouseOver=true;this.showScrollbar();};z.prototype.hideScrollbar=function(aa){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(aa){q.set(this._track,'opacity',0);j.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;};z.prototype.resize=function(){if(this._body.style.width)this._body.style.width='';var aa=this._wrap.offsetWidth-this._wrap.clientWidth;if(aa>0)q.set(this._body,'margin-right',(-aa)+'px');return this;};z.prototype.showScrollbar=function(aa){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}q.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((aa!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;};z.prototype.isScrolledToBottom=function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;};z.prototype.isScrolledToTop=function(){return this._wrap.scrollTop===0;};z.prototype.scrollToBottom=function(aa){this.setScrollTop(this._wrap.scrollHeight,aa);};z.prototype.scrollToTop=function(aa){this.setScrollTop(0,aa);};z.prototype.scrollIntoView=function(aa,ba){var ca=this._wrap.clientHeight,da=aa.offsetHeight,ea=this._wrap.scrollTop,fa=ea+ca,ga=aa.offsetTop,ha=ga+da;if(ga<ea||ca<da){this.setScrollTop(ga,ba);}else if(ha>fa)this.setScrollTop(ea+(ha-fa),ba);};z.prototype.scrollElemToTop=function(aa,ba,ca){this.setScrollTop(aa.offsetTop,ba,{callback:ca});};z.prototype.poke=function(){var aa=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=aa;return this.showScrollbar(false);};z.prototype.getScrollTop=function(){return this._wrap.scrollTop;};z.prototype.getScrollHeight=function(){return this._wrap.scrollHeight;};z.prototype.setScrollTop=function(aa,ba,ca){ca=ca||{};if(ba!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();var da=ca.duration||250,ea=ca.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',aa).ease(ea).duration(da).ondone(ca.callback).go();}else{this._wrap.scrollTop=aa;ca.callback&&ca.callback();}};z.renderDOM=function(){var aa=l.create('div',{className:'uiScrollableAreaContent'}),ba=l.create('div',{className:'uiScrollableAreaBody'},aa),ca=l.create('div',{className:'uiScrollableAreaWrap scrollable'},ba),da=l.create('div',{className:'uiScrollableArea native'},ca);return {root:da,wrap:ca,body:ba,content:aa};};z.fromNative=function(aa,ba){if(!j.hasClass(aa,'uiScrollableArea')||!j.hasClass(aa,'native')||r.ie()<=7)return;ba=ba||{};j.removeClass(aa,'native');var ca=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(ba.fade!==false){j.addClass(aa,'fade');j.addClass(ca,'invisible_elem');}else j.addClass(aa,'nofade');l.appendContent(aa,ca);var da=new z(aa,ba);da.resize();return da;};z.getInstance=function(aa){var ba=n.byClass(aa,'uiScrollableArea');return ba?k.get(ba,'ScrollableArea'):null;};z.poke=function(aa){var ba=z.getInstance(aa);ba&&ba.poke();};e.exports=z;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);
__d("BucketedTypeaheadView",["DOM","TypeaheadView","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('TypeaheadView'),i=b('tx');for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){if(h!==null)h.apply(this,arguments);}l.prototype.render=function(m,n,o){n=this.buildBuckets(m,n);return k.render.call(this,m,n,o);};l.prototype.highlight=function(m,n){if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m]))m=m+1;k.highlight.call(this,m,n);};l.prototype.buildBuckets=function(m,n){if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;};l.prototype.buildNoResultsEntry=function(){return {uid:'disabled_result',type:'disabled_result',text:"No Results"};};l.prototype.buildBucketHeader=function(m){var n=this.typeObjects[m];if(n===undefined)throw new Error(m+" is undefined in "+JSON.stringify(this.typeObjects));if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];};l.prototype.buildResults=function(m){var n=k.buildResults.call(this,m);if(this.typeObjects){return g.create('div',{className:'bucketed'},[n]);}else return n;};l.prototype.isHighlightable=function(m){return m.type!='header'&&m.type!='disabled_result';};l.prototype.select=function(m){var n=this.results[this.index];if(n&&this.isHighlightable(n))k.select.call(this,m);};l.prototype.normalizeIndex=function(m){var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;};l.prototype.getDefaultIndex=function(m){var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;};l.prototype.prev=function(){var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return k.prev.call(this);};l.prototype.next=function(){var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return k.next.call(this);};e.exports=l;});