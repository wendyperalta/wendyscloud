/*!CK:2676681520!*//*1379540849,168589085*/

if (self.CavalryLogger) { CavalryLogger.start_js(["lhoA0"]); }

__d("BrowseLogger",["Banzai","copyProperties","Run"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties'),i=b('Run'),j='browse',k='browse_aggr',l=null,m={},n={};function o(){l=null;m={};n={};}function p(v){h(v,{clientSessionID:l});return v;}function q(v){g.post(j,p(v));}function r(){if(l===null)return;n.aggregated=m;g.post(k,p(n));o();}function s(v){m[v]=(m[v]||0)+1;}function t(v){h(n,v);}i.onUnload(r);var u={newSession:function(){r();l=Math.random().toString();if(!n.start_time)n.start_time=Math.round(Date.now()/1000);},logResultClick:function(v,w,x){var y={action:'result_click',click_type:v.ct||'result',section:v.section||'unknown',id:v.id||0,path:v.path||'unknown',rank:v.rank||0,referrer:v.referrer||'unknown',result_type:v.result_type||'unknown',session_id:v.session_id||0,query_time:v.query_time,abtest_version:v.abtest_version||'NONE',abtest_params:v.abtest_params,typeahead_sid:v.typeahead_sid||'',click_action:x};if(w.tn)y.tn=w.tn;s('result_click_'+y.click_type);t({path:y.path,referrer:y.referrer,result_type:y.result_type,session_id:y.session_id,abtest_version:y.abtest_version,abtest_params:y.abtest_params,typeahead_sid:y.typeahead_sid});q(y);},logControlsClick:function(v,w){var x={action:'controls_click',click_type:w,path:v.path||'unknown',referrer:v.referrer||'unknown',session_id:v.session_id||0,query_time:v.query_time,filter_name:v.name||'unknown',typeahead_sid:v.typeahead_sid||'',result_type:v.result_type||'unknown'};s('controls_click_'+w);t({path:x.path,referrer:x.referrer,session_id:x.session_id,typeahead_sid:x.typeahead_sid});q(x);},logResultHover:function(v,w){var x={action:'result_hover',id:v.id||0,path:v.path||'unknown',rank:v.rank,session_id:v.session_id||0,query_time:v.query_time,time_elapsed:w,typeahead_sid:v.typeahead_sid||0};s('result_hover');t({path:x.path,session_id:x.session_id,typeahead_sid:x.typeahead_sid});q(x);},logNUXStep:function(v){var w={action:'nux_step',step:v};q(w);},logDisambiguationImpression:function(v,w,x,y,z){var aa={action:'disambiguation_imp',ids:y,name:v,path:x,type:w,typeahead_sid:z};q(aa);},logDisambiguationClick:function(v,w,x,y,z,aa){var ba={action:'disambiguation_clk',id:z,index:y,name:v,path:x,type:w,typeahead_sid:aa};q(ba);}};e.exports=u;});
__d("concatMap",[],function(a,b,c,d,e,f){function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;});
__d("LitestandNewsfeedCountUpdater",["Arbiter","AsyncRequest","LitestandMessages","LitestandSidebarBookmarkConfig","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('LitestandMessages'),j=b('LitestandSidebarBookmarkConfig'),k=b('emptyFunction'),l,m;function n(){m&&clearTimeout(m);if(l)return;m=setTimeout(o,j.nf_count_query_interval_ms,false);}function o(){if(l)return;new h().setURI('/ajax/litestand/newsfeed_count').setHandler(function(r){if(l)return;p(r.getPayload());n();}).setAllowCrossPageTransition(true).send();}function p(r){g.inform(i.UPDATE_HOME_COUNT,{count:r,onHome:l},g.BEHAVIOR_STATE);}var q={init:function(){q.init=k;g.subscribe(i.NEWSFEED_LOAD,function(){l=true;p(0);});g.subscribe(i.LEAVE_HOME,function(){l=false;n();});n();}};e.exports=q;});
__d("clip",[],function(a,b,c,d,e,f){function g(h,i,j){return Math.min(Math.max(h,i),j);}e.exports=g;});
__d("FacebarTypeaheadHashtagResult",["HashtagSearchResultUtils"],function(a,b,c,d,e,f){var g=b('HashtagSearchResultUtils');function h(i){this.$FacebarTypeaheadHashtagResult0=i.getData();}h.prototype.enable=function(){this.$FacebarTypeaheadHashtagResult1=this.$FacebarTypeaheadHashtagResult0.subscribe('beforeQuery',this.$FacebarTypeaheadHashtagResult2.bind(this));};h.prototype.$FacebarTypeaheadHashtagResult2=function(i,j){if(!j||!j.value)return;var k=this.$FacebarTypeaheadHashtagResult0.getRawStructure(j.value);if(!k||k.is_empty||!k.raw_text)return;var l=g.getHashtagFromQuery(k.raw_text);if(!l)return;var m='hashtag:'+l,n=this.$FacebarTypeaheadHashtagResult0.getEntry(m);if(!n){this.$FacebarTypeaheadHashtagResult0.processEntries([g.makeFacebarEntry(l)]);this.$FacebarTypeaheadHashtagResult0.resultStore.saveResults([g.makeFacebarResult(l)],k,true);}return;};h.prototype.disable=function(){this.$FacebarTypeaheadHashtagResult1&&this.$FacebarTypeaheadHashtagResult0.unsubscribe(this.$FacebarTypeaheadHashtagResult1);};e.exports=h;});